{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\Artur\\\\Documents\\\\Programming\\\\ig\\\\relay\\\\www\\\\client\\\\components\\\\Bot\\\\Index.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useState, useEffect } from 'react';\nimport { TextField, Typography, Button, DialogTitle, DialogContent, DialogActions, CircularProgress } from '@material-ui/core';\nimport getJobs from '../../api/jobs/get';\nimport updateJob from '../../api/jobs/update';\nimport deleteJob from '../../api/jobs/delete';\nimport createJob from '../../api/jobs/create';\nimport { connect } from 'react-redux';\nimport Dialog from '../Dialog';\n\nconst mapStateToProps = state => ({\n  currentAccount: state.bot.currentAccount\n});\n\nconst CreateJob = connect(mapStateToProps)(({\n  currentAccount,\n  open,\n  handleExit\n}) => {\n  const {\n    0: state,\n    1: setState\n  } = useState({\n    cron: '',\n    maxDelaySeconds: 0,\n    supervisor: '',\n    supervisorPayload: ''\n  });\n\n  const update = key => ({\n    target: {\n      value\n    }\n  }) => setState(state => _objectSpread({}, state, {\n    [key]: value\n  }));\n\n  const create = async () => {\n    await createJob(currentAccount.accountId, state);\n    location.reload();\n  };\n\n  return __jsx(Dialog, {\n    open: open,\n    onClose: handleExit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, __jsx(DialogTitle, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, \"Create new job\"), __jsx(DialogContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, __jsx(TextField, {\n    label: \"cron\",\n    value: state.cron,\n    onChange: update('cron'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }), __jsx(TextField, {\n    label: \"maximum delay seconds\",\n    type: \"number\",\n    inputProps: {\n      min: \"0\"\n    },\n    value: state.maxDelaySeconds,\n    onChange: update('maxDelaySeconds'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }), __jsx(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }), __jsx(TextField, {\n    label: \"supervisor\",\n    value: state.supervisor,\n    onChange: update('supervisor'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }), __jsx(TextField, {\n    label: \"payload\",\n    value: state.supervisorPayload,\n    onChange: update('supervisorPayload'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  })), __jsx(DialogActions, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, __jsx(Button, {\n    color: \"primary\",\n    onClick: create,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"Create\")));\n});\n\nconst JobForm = ({\n  index,\n  job\n}) => {\n  const {\n    0: state,\n    1: setState\n  } = useState(job);\n  useEffect(() => setState(job), [job]);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    updateJob(state);\n  };\n\n  const update = key => ({\n    target: {\n      value\n    }\n  }) => setState(state => _objectSpread({}, state, {\n    [key]: value\n  }));\n\n  const del = async () => {\n    await deleteJob(job);\n    location.reload();\n  };\n\n  return __jsx(\"form\", {\n    noValidate: true,\n    autoComplete: \"off\",\n    onSubmit: handleSubmit,\n    style: {\n      marginBottom: '16px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, __jsx(Typography, {\n    variant: \"h6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"#\", index + 1, __jsx(\"div\", {\n    style: {\n      float: 'right'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, __jsx(Button, {\n    color: \"secondary\",\n    variant: \"contained\",\n    size: \"small\",\n    onClick: del,\n    style: {\n      marginRight: '0.5rem'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, \"Delete\"), __jsx(Button, {\n    color: \"secondary\",\n    variant: \"contained\",\n    size: \"small\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"Save changes\"))), __jsx(TextField, {\n    label: \"cron\",\n    value: state.cron,\n    onChange: update('cron'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }), __jsx(TextField, {\n    label: \"maximum delay seconds\",\n    type: \"number\",\n    inputProps: {\n      min: \"0\"\n    },\n    value: state.maxDelaySeconds,\n    onChange: update('maxDelaySeconds'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }), __jsx(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }), __jsx(TextField, {\n    label: \"supervisor\",\n    value: state.supervisor,\n    onChange: update('supervisor'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }), __jsx(TextField, {\n    label: \"payload\",\n    value: state.supervisorPayload,\n    onChange: update('supervisorPayload'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }));\n};\n\nexport default connect(mapStateToProps)(({\n  currentAccount\n}) => {\n  const {\n    0: jobs,\n    1: setJobs\n  } = useState(null);\n  useEffect(() => {\n    getJobs(currentAccount.accountId).then(setJobs);\n  }, [currentAccount.accountId]);\n  const {\n    0: createJobDialog,\n    1: setCreateJobDialog\n  } = useState(false);\n\n  const toggleJobDialog = () => setCreateJobDialog(createJobDialog => !createJobDialog);\n\n  if (jobs === null) return __jsx(CircularProgress, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  });\n  return __jsx(React.Fragment, null, __jsx(CreateJob, {\n    open: createJobDialog,\n    handleExit: toggleJobDialog,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }), jobs.map((job, index) => __jsx(JobForm, {\n    index: index,\n    job: job,\n    key: `${currentAccount}${index}`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  })), __jsx(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }), __jsx(Button, {\n    color: \"primary\",\n    variant: \"contained\",\n    onClick: toggleJobDialog,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, \"Create job\"));\n});","map":{"version":3,"sources":["C:/Users/Artur/Documents/Programming/ig/relay/www/client/components/Bot/Index.tsx"],"names":["useState","useEffect","TextField","Typography","Button","DialogTitle","DialogContent","DialogActions","CircularProgress","getJobs","updateJob","deleteJob","createJob","connect","Dialog","mapStateToProps","state","currentAccount","bot","CreateJob","open","handleExit","setState","cron","maxDelaySeconds","supervisor","supervisorPayload","update","key","target","value","create","accountId","location","reload","min","JobForm","index","job","handleSubmit","event","preventDefault","del","marginBottom","float","marginRight","jobs","setJobs","then","createJobDialog","setCreateJobDialog","toggleJobDialog","map"],"mappings":"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","sourcesContent":["import { useState, useCallback, useEffect } from 'react'\r\nimport { TextField, Typography, Button, DialogTitle, DialogContent, DialogContentText, DialogActions, CircularProgress } from '@material-ui/core'\r\nimport getJobs from '../../api/jobs/get'\r\nimport updateJob from '../../api/jobs/update'\r\nimport deleteJob from '../../api/jobs/delete'\r\nimport createJob from '../../api/jobs/create'\r\nimport { connect } from 'react-redux'\r\nimport { Job } from '../../types/Job'\r\nimport { Account } from '../../types/Account'\r\nimport Dialog from '../Dialog'\r\n\r\nconst mapStateToProps = state => ({\r\n  currentAccount: state.bot.currentAccount\r\n})\r\n\r\nconst CreateJob = connect(mapStateToProps)(({ currentAccount, open, handleExit }: { currentAccount: Account, open: boolean, handleExit: (any) => void }) => {\r\n  const [state, setState] = useState({ cron: '', maxDelaySeconds: 0, supervisor: '', supervisorPayload: '' })\r\n\r\n  const update = (key: keyof Job) => ({ target: { value } }) =>\r\n    setState(state => ({\r\n      ...state,\r\n      [key]: value\r\n    }))\r\n\r\n  const create = async () => {\r\n    await createJob(currentAccount.accountId, state)\r\n    location.reload()\r\n  }\r\n\r\n  return (\r\n    <Dialog open={open} onClose={handleExit}>\r\n      <DialogTitle>Create new job</DialogTitle>\r\n      <DialogContent>\r\n        <TextField label=\"cron\" value={state.cron} onChange={update('cron')} />\r\n        <TextField label=\"maximum delay seconds\" type=\"number\" inputProps={{ min: \"0\" }} value={state.maxDelaySeconds} onChange={update('maxDelaySeconds')} />\r\n        <br />\r\n        <TextField label=\"supervisor\" value={state.supervisor} onChange={update('supervisor')} />\r\n        <TextField label=\"payload\" value={state.supervisorPayload} onChange={update('supervisorPayload')} />\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button color=\"primary\" onClick={create}>\r\n          Create\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  )\r\n})\r\n\r\nconst JobForm = ({ index, job }: { index: number, job: Job }) => {\r\n  const [state, setState] = useState(job)\r\n\r\n  useEffect(() => setState(job), [job])\r\n\r\n  const handleSubmit = event => {\r\n    event.preventDefault()\r\n\r\n    updateJob(state)\r\n  }\r\n\r\n  const update = (key: keyof Job) => ({ target: { value } }) =>\r\n    setState(state => ({\r\n      ...state,\r\n      [key]: value\r\n    }))\r\n\r\n  const del = async () => {\r\n    await deleteJob(job)\r\n    location.reload()\r\n  }\r\n\r\n  return (\r\n    <form noValidate autoComplete=\"off\" onSubmit={handleSubmit} style={{ marginBottom: '16px' }}>\r\n      <Typography variant=\"h6\">\r\n        #{ index + 1 }\r\n        <div style={{ float: 'right' }}>\r\n          <Button color=\"secondary\" variant=\"contained\" size=\"small\" onClick={del} style={{ marginRight: '0.5rem' }}>\r\n            Delete\r\n          </Button>\r\n          <Button color=\"secondary\" variant=\"contained\" size=\"small\" type=\"submit\">\r\n            Save changes\r\n          </Button>\r\n        </div>\r\n      </Typography>\r\n      <TextField label=\"cron\" value={state.cron} onChange={update('cron')} />\r\n      <TextField label=\"maximum delay seconds\" type=\"number\" inputProps={{ min: \"0\" }} value={state.maxDelaySeconds} onChange={update('maxDelaySeconds')} />\r\n      <br />\r\n      <TextField label=\"supervisor\" value={state.supervisor} onChange={update('supervisor')} />\r\n      <TextField label=\"payload\" value={state.supervisorPayload} onChange={update('supervisorPayload')} />\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default connect(mapStateToProps)(({ currentAccount }: { currentAccount: Account }) => {\r\n  const [jobs, setJobs] = useState(null)\r\n  useEffect(() => {\r\n    getJobs(currentAccount.accountId).then(setJobs)\r\n  }, [currentAccount.accountId])\r\n\r\n  const [createJobDialog, setCreateJobDialog] = useState(false)\r\n  const toggleJobDialog = () => setCreateJobDialog(createJobDialog => !createJobDialog)\r\n\r\n  if(jobs === null)\r\n    return <CircularProgress />\r\n\r\n  return (\r\n    <>\r\n      <CreateJob open={createJobDialog} handleExit={toggleJobDialog} />\r\n      {jobs.map((job, index) => (\r\n        <JobForm \r\n          index={index}\r\n          job={job}\r\n          key={`${currentAccount}${index}`}\r\n        />\r\n      ))}\r\n      <br />\r\n      <Button color=\"primary\" variant=\"contained\" onClick={toggleJobDialog}>Create job</Button>\r\n    </>\r\n  )\r\n})"]},"metadata":{},"sourceType":"module"}